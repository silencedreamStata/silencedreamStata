## 【离散变量】计数模型(泊松回归)
<div style="text-align: center;">
  <div style="border: 2px solid #ccc; padding: 10px; display: inline-block;">
<iframe src="//player.bilibili.com/player.html?bvid=BV1RE411L78F&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 750px; height: 450px;"></iframe>  </div>
</div>
今天，我想和大家分享离散变量技术模型，特别是应对被解释变量（Y）是离散变量的情况，例如0、1、2、3、4等的情况。我们在选用模型时，通常会根据被解释变量来选择合适的模型。

如果Y是一个连续变量，我们一般会选择OLS（最小二乘估计）作为我们的估计方法。当Y是一个零一变量（分类变量）的时候，我们会选用Probit或Logit模型进行估计。当我们的Y是一个计数变量的时候，比如0、1、2、3、4、5、6、7、8等，我们就会选用泊松回归。

🎯 什么是泊松回归？
----------------

泊松回归比较好理解，就是假设我们的Y是服从一个泊松分布，然后我们再用最大自然估计得到一个参数。泊松分布很多人都比较熟悉，例如一小时内电话接听的次数、一小时内汽车站台的后客人数、一小时内机器故障的次数等等。泊松分布的CDF也是可以写出来的，并且我们也知道它的期望和方差都是等于这个λ的。

💡 对数线性模型？
------------------

因为我们知道回归是研究一个期望随着这些X它有什么样一个变化。我们知道这个y因为它是计数变量，所以它肯定是一个大于等于0的数。X的取值范围是负无穷到正无穷。因此，我们对这个λ做一个对数的处理，就是说如果这个y它都是大于0的，然后我们做一个对数处理的话，那么我们这个就求一个ln的话（ln(y+1))，那它当然也是一个正无穷到负无穷的一个区间。在这个泊松回归中，它也叫对数线性模型，就是说如果我们对这个期望求一个对数的话，那其实我们也是可以把它看成一个线性模型。

📝 泊松回归的实现
--------------

论文的实现可以在Stata中完成。我们可以找一篇论文，在这个地方，他有个下载全文和下载附件，大家可以去下载。这是来自中国工业经济的一篇文章，但是他这个文件中，在检验9这个部分，他有用波松技术模型做一个估计。可以看到命令非常的简单，就在这个地方打一个`poisson`，选用的是一个poisson回归，因为加入了时间虚拟变量、行业虚拟变量、还有省份虚拟变量、以及它的control variable和x。当然，这个后面的这一部分的都是方程的right hand，大家可以根据自己的回归做一些调整。这篇论文的下载连接：

http://www.ciejournal.org/Magazine/Show?id=53527

🤔 泊松回归的假设
--------------

这个模型的一个问题是它的假设，它的期望和方差是相等的。如果我们的期望和方差不相等的话，那么这个模型的拟合就会存在一些问题。例如，如果你的样本中有大量的零，比如说观察一组人一小时内吸了多少烟，但是你这个观察人群里面有很多没有吸烟的人，所以就有很多零。这个叫做零膨胀。今天分享的视频到这里就结束了，谢谢大家！
- - - - - -
