## cluster？robust？关于标准误的选取
<div style="text-align: center;">
  <div style="border: 2px solid #ccc; padding: 10px; display: inline-block;">
<iframe src="//player.bilibili.com/player.html?bvid=BV1M741127xj&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true" style="width: 750px; height: 450px;"></iframe>  </div>
</div>
cluster？robust？关于标准误的选取
====================

大家好，今天我要分享的话题是关于回归标准误的选取问题。我会在视频简介中提供相关视频，大家可以根据自己的需要观看。现在，让我们开始今天的话题。

如果你看过一些论文的代码，你可能会看到很多作者在回归后面跟上以下类似的命令：

```scss
reg y x1 x2 ,r
reg  y x1 x2 , cluster(id)
xtreg  y x1 x2 , fe r
```

这些命令的含义是什么？我们应该如何使用这些命令？今天，我们就来分享一下这个问题。

这些命令的含义
------------------

虽然这三种表示方式不同，但它们都是一个意思：选用一种 **"稳健验标准误"** 也就是在计算过程中，使用这样的方式进行计算。

我们使用 **"聚类稳健验标准误"** 也就是使用这样的计算方式计算。我们可以直观地观察到，如果我们标准误的值发生变化，它就会影响我们最后的T检验的值，也就是模型的显著性。

下面，我们开始分享如何使用这些命令。

异方差稳健标准误
--------------

异方差稳健标准误主要适用于模型中出现 **异方差"** 但是观测值之间是相互独立的一个情况。

关于 **"异方差"** 问题，之前我们已经做过一个视频分享过，简单来讲的话，就是我们随机扰动向的这个方差跟我们的自变量有一些关系。在下图中，我们举了一种类型的 **"异方差"** 也就是随着我们x的增大，随机扰动向的方差在不断的变大。

如果出现了这样的一个情况，我们就会选择 **"异方差稳健标准误"** 对模型进行修正。

聚类稳健标准误
--------------

聚类稳健标准误主要用于观测值存在**"组内自相关"** 但  **"组间不相关"**在这种情况下。

 **"组内自相关"** 一般是存在面板数据或者是时间序列数据上。简单来讲的话，就是比如说A个体第一年的数据可能跟第二年或者第三年有一定的相关性。然后这样也会有一些相关性。

 **"组间不相关"** 就是指A个体它的这些数据它是有相关性的，B个体它也是会有一些相关性的。但在AB组间这些随机扰动项它是不相关的。

这就是 **"组内自相关"** 但  **"组间不相关"**在这种情况下，我们就会选择 **"聚类稳健标准误"** 对模型进行修正。

这个ID我们可以换成行业这样一个情况下就表明的是允许行业内的公司的随机扰动有一定的相关性，但行业之间不相关。这就是 **"聚类文件标准误"** 的一个使用。

需要注意的是，在 `xtreg` 里面比较特殊，就是如果你打上 `robust` 跟 `cluster`，它的命令是等价的。换句话来讲的话，如果你在 `xtreg` 的情况下，让它使用 **"稳健标准误"** ，它会默认给你按照个体变量进行一个聚类，然后再计算。

今天分享的视频到这里就结束了，谢谢大家！
- - - - - -
